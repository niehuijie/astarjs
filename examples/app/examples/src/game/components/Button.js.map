{"version":3,"file":"Button.js","sourceRoot":"","sources":["../../../../../src/game/components/Button.ts"],"names":[],"mappings":"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","sourcesContent":["export default class Button extends PIXI.Sprite {\r\n\r\n    private _text: PIXI.Text;\r\n\r\n    private _cb: Function;\r\n\r\n    constructor(x: number, y: number, width: number, height: number) {\r\n        super();\r\n        this.create(x, y, width, height);\r\n    }\r\n\r\n    create(x: number, y: number, width: number, height: number) {\r\n\r\n        let gfx = new PIXI.Graphics();\r\n        gfx.beginFill(0xffffff, 1);\r\n        gfx.drawRoundedRect(0, 0, width, height, height / 5);\r\n        gfx.endFill();\r\n        this.texture = gfx.generateCanvasTexture();\r\n\r\n        this.x = x;\r\n        this.y = y;\r\n        this.anchor.x = 0.5;\r\n        this.anchor.y = 0.5;\r\n\r\n        var style = new PIXI.TextStyle({\r\n            fontFamily: 'Arial',\r\n            fontSize: 16,\r\n            fontWeight: 'bold',\r\n            fill: ['#000'],\r\n            wordWrap: true,\r\n            align : 'center',\r\n            wordWrapWidth: width\r\n        });\r\n\r\n        this._text = new PIXI.Text(\"\", style);\r\n        this._text.anchor = new PIXI.ObservablePoint(()=>{},this, 0.5, 0.5);\r\n        this.addChild(this._text);\r\n\r\n        this.interactive = true;\r\n\r\n        this.on(\"mousedown\", () => {\r\n            this.onDown();\r\n        }, this);\r\n\r\n        this.on(\"mouseup\", () => {\r\n            this.onUp();\r\n        }, this);\r\n\r\n        this.on(\"mouseover\", () => {\r\n            this.onHover();\r\n        }, this);\r\n\r\n        this.on(\"mouseout\", () => {\r\n            this.onOut();\r\n        }, this);\r\n    }\r\n\r\n    public setText(val: string, style?: PIXI.TextStyle) {\r\n        this._text.text = val;\r\n        if(style)this._text.style = style;\r\n    }\r\n\r\n    private onDown() {\r\n        this.tint = 0xffffff;\r\n    }\r\n\r\n    private onUp() {\r\n        if(typeof(this._cb) === 'function') {\r\n            this._cb();\r\n        }\r\n        this.tint = 0x333333;\r\n    }\r\n\r\n    private onHover() {\r\n        this.tint = 0x333333;\r\n        this.scale.x = 1.2;\r\n        this.scale.y = 1.2;\r\n    }\r\n\r\n    private onOut() {\r\n        this.tint = 0xffffff;\r\n        this.scale.x = 1;\r\n        this.scale.y = 1;\r\n    }\r\n\r\n    public get clicked() {\r\n        return this._cb;\r\n    }\r\n\r\n    public set clicked(cb: Function) {\r\n        this._cb = cb;\r\n    }\r\n\r\n\r\n}"]}